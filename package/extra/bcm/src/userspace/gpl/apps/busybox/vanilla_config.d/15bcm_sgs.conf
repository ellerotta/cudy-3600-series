#!/usr/bin/env perl

#
# DO NOT EDIT THIS FILE
#
# This file reads .config, makes changes, and writes it back
# if you need to make further changes, COPY this file to another
# executable file in the config.d directory with a .conf extension
# and replace the ACTIONS section with your own
#

use strict;
use warnings;
use BRCM::GenConfig;

my $g;

if (!@ARGV){
  print "\n Use the default configuration file. e.g. .config \n";
  $g = new BRCM::GenConfig('.config');
}else{
  $g = new BRCM::GenConfig($ARGV[0]);
}

# LOGIC STARTS HERE


if ( $ENV{BUILD_SGS} eq 'y' ) {
   $g->set( "CONFIG_GZIP", "y" );
   $g->set( "CONFIG_TAR", "y" );
   $g->set( "CONFIG_FEATURE_TAR_CREATE", "y" );
   $g->set( "CONFIG_HEAD", "y");
   $g->set( "CONFIG_MV", "y" );
   $g->set( "CONFIG_TAIL", "y" );
   $g->set( "CONFIG_TEE", "y" );
   $g->set( "CONFIG_LOSETUP", "y" );
   $g->set( "CONFIG_CROND", "y" );
   $g->set( "CONFIG_CRONTAB", "y" );
   $g->set( "CONFIG_PIDOF", "y" );
}

$g->write();

# LOGIC ENDS HERE
